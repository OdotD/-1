<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>JDC 셔틀버스 노선</title>
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=92548xgflo"></script>
    <style>
        #map { width: 100%; height: 500px; }
        .buttons {
            margin: 10px;
        }
        .buttons button {
            padding: 10px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="buttons">
        <button onclick="drawRoute('route1')">1. 신제주1(외도)</button>
/*
        <button onclick="drawRoute('route2')">2. 신제주2(신제주)</button>
        <button onclick="drawRoute('route3')">3. 구제주1(용담)</button>
        <button onclick="drawRoute('route4')">4. 구제주2(삼양)</button>
        <button onclick="drawRoute('route5')">5. 항공우주박물관</button>
*/
    </div>
    <div id="map"></div>

    <script>
        // 지도 생성
        var map = new naver.maps.Map('map, {
            center: new naver.maps.LatLng(33.4534, 126.5725), // 엘리트 빌딩 중심
            zoom: 13
        })

        let polyline = null;
        let markers = [];

        const routes = {
            route1: {
                path: [
                    [33.484033, 126.430930],
                    [33.484009, 126.435072],
                    [33.482451, 126.440106],
                    [33.481918, 126.444923],
                    [33.479447, 126.453248],
                    [33.479120, 126.464196],
                    [33.479835, 126.466033],
                    [33.481995, 126.463531],
                    [33.483535, 126.463914],
                    [33.485595, 126.466376],
                    [33.484151, 126.468085],
                    [33.483373, 126.469000],
                    [33.487304, 126.474049],
                    [33.488879, 126.476085],
                    [33.485746, 126.479650],
                    [33.484311, 126.480250],
                    [33.482059, 126.481243],
                    [33.482051, 126.482274],
                    [33.481917, 126.486302],
                    [33.481828, 126.489893],
                    [33.485841, 126.490055],
                    [33.485813, 126.491013],
                    [33.485665, 126.496466],
                    [33.485048, 126.496423],
                    [33.482062, 126.496371],
                    [33.481462, 126.496624],
                    [33.480652, 126.497007],
                    [33.474836, 126.502032],
                    [33.472947, 126.504781],
                    [33.472679, 126.506395],
                    [33.470827, 126.509161],
                    [33.467129, 126.510869],
                    [33.466887, 126.511792],
                    [33.467129, 126.513299],
                    [33.466744, 126.514018],
                    [33.460568, 126.515305],
                    [33.460407, 126.518234],
                    [33.461839, 126.533222],
                    [33.462376, 126.546258],
                    [33.463387, 126.555914],
                    [33.464721, 126.560924],
                    [33.467889, 126.569797],
                    [33.465544, 126.569378],
                    [33.461141, 126.569260],
                    [33.460371, 126.569700],
                    [33.459458, 126.571095],
                    [33.457372, 126.571546],
                    [33.456378, 126.571353],
                    [33.454857, 126.571503],
                    [33.454910, 126.572962],
                    [33.453380, 126.573155],
                    [33.453353, 126.572629]
                ],
                waypoints: [
                    [33.485801, 126.430903],
                    [33.479976, 126.451238],
                    [33.484060, 126.468003],
                    [33.487241, 126.474101],
                    [33.484297, 126.480175],
                    [33.481908, 126.482272],
                    [33.481821, 126.486307],
                    [33.485734, 126.491013],
                    [33.485049, 126.496284],
                    [33.481443, 126.496476],
                    [33.453404, 126.572569]
                ]
            }
        };


  function drawRoute(routeKey) {
    const route = routes[routeKey];

    // 기존 polyline 및 마커 제거
    if (polyline) {
      polyline.setMap(null);
    }
    markers.forEach(marker => marker.setMap(null));
    markers = [];

    // 경로 좌표 생성
    const pathCoords = route.path.map(coord => new naver.maps.LatLng(coord[0], coord[1]));

    // 경로 표시
    polyline = new naver.maps.Polyline({
      map: map,
      path: pathCoords,
      strokeColor: '#FF0000',
      strokeWeight: 4,
      strokeOpacity: 0.8,
    });

    // 주요 경유지 마커 표시
    route.waypoints.forEach((coord, index) => {
      const marker = new naver.maps.Marker({
        position: new naver.maps.LatLng(coord[0], coord[1]),
        map: map,
        title: `경유지 ${index + 1}`
      });
      markers.push(marker);
    });

    // 중심 위치 조정
    map.setCenter(pathCoords[0]);
  }


/*
        // 노선 데이터 (각 노선에 해당하는 좌표들)
        var routes = {
            1: [
                new naver.maps.LatLng(33.485801, 126.430903),
                new naver.maps.LatLng(33.484000, 126.430931),
                new naver.maps.LatLng(33.484009, 126.435072),
                new naver.maps.LatLng(33.482451, 126.440106),
                new naver.maps.LatLng(33.481918, 126.444923),
                new naver.maps.LatLng(33.479447, 126.453248),
                new naver.maps.LatLng(33.479120, 126.464196),
                new naver.maps.LatLng(33.479835, 126.466033),
                new naver.maps.LatLng(33.481995, 126.463531),
                new naver.maps.LatLng(33.483535, 126.463914),
                new naver.maps.LatLng(33.485595, 126.466376),
                new naver.maps.LatLng(33.484151, 126.468085),
                new naver.maps.LatLng(33.483373, 126.469000),
                new naver.maps.LatLng(33.487304, 126.474049),
                new naver.maps.LatLng(33.488879, 126.476085),
                new naver.maps.LatLng(33.485746, 126.479650),
                new naver.maps.LatLng(33.484311, 126.480250),
                new naver.maps.LatLng(33.482059, 126.481243),
                new naver.maps.LatLng(33.482051, 126.482274),
                new naver.maps.LatLng(33.481917, 126.486302),
                new naver.maps.LatLng(33.481828, 126.489893),
                new naver.maps.LatLng(33.485841, 126.490055),
                new naver.maps.LatLng(33.485800, 126.491011),
                new naver.maps.LatLng(33.485665, 126.496466),
                new naver.maps.LatLng(33.485048, 126.496423),
                new naver.maps.LatLng(33.482062, 126.496371),
                new naver.maps.LatLng(33.481462, 126.496624),
                new naver.maps.LatLng(33.480652, 126.497007),
                new naver.maps.LatLng(33.474836, 126.502032),
                new naver.maps.LatLng(33.472947, 126.504781),
                new naver.maps.LatLng(33.472679, 126.506395),
                new naver.maps.LatLng(33.470827, 126.509161),
                new naver.maps.LatLng(33.467129, 126.510869),
                new naver.maps.LatLng(33.466887, 126.511792),
                new naver.maps.LatLng(33.467129, 126.513299),
                new naver.maps.LatLng(33.466744, 126.514018),
                new naver.maps.LatLng(33.460568, 126.515305),
                new naver.maps.LatLng(33.460407, 126.518234),
                new naver.maps.LatLng(33.461839, 126.533222),
                new naver.maps.LatLng(33.462376, 126.546258),
                new naver.maps.LatLng(33.463387, 126.555914),
                new naver.maps.LatLng(33.464721, 126.560924),
                new naver.maps.LatLng(33.467889, 126.569797),
                new naver.maps.LatLng(33.465544, 126.569378),
                new naver.maps.LatLng(33.461141, 126.569260),
                new naver.maps.LatLng(33.460371, 126.569700),
                new naver.maps.LatLng(33.459458, 126.571095),
                new naver.maps.LatLng(33.457372, 126.571546),
                new naver.maps.LatLng(33.456378, 126.571353),
                new naver.maps.LatLng(33.454857, 126.571503),
                new naver.maps.LatLng(33.454910, 126.572962),
                new naver.maps.LatLng(33.453380, 126.573155),
                new naver.maps.LatLng(33.453353, 126.572629)
            ],
            2: [
                new naver.maps.LatLng(37.5651, 126.9783),
                new naver.maps.LatLng(37.5670, 126.9800),
                new naver.maps.LatLng(37.5700, 126.9830)
            ],
            3: [
                new naver.maps.LatLng(37.5700, 126.9830),
                new naver.maps.LatLng(37.5720, 126.9850),
                new naver.maps.LatLng(37.5740, 126.9870)
            ],
            4: [
                new naver.maps.LatLng(37.5740, 126.9870),
                new naver.maps.LatLng(37.5750, 126.9890),
                new naver.maps.LatLng(37.5780, 126.9900)
            ],
            5: [
                new naver.maps.LatLng(37.5730, 126.9870),
                new naver.maps.LatLng(37.5780, 126.9890),
                new naver.maps.LatLng(37.5800, 126.9900)
            ]
        };

        var routeLines = [];   // 노선 라인들
        var routeMarkers = [];

        // 노선 표시 함수
        function showRoute(routeId) {
            // 이전에 표시된 노선 제거
            clearRoute();

            // 새 노선 표시
            var route = routes[routeId];
            if (route) {
                var polyline = new naver.maps.Polyline({
                    path: route,
                    strokeColor: '#0033FF', // 라인 색상
                    strokeOpacity: 0.8,
                    strokeWeight: 5
                });
                polyline.setMap(map);
                routeLines.push(polyline);

                route.forEach(function(latlng) {
                    var marker = new naver.maps.Marker({
                        position: latlng,
                        map: map
                    });
                    routeMarkers.push(marker);
                });
            }
        }

        // 기존 노선 제거 함수
        function clearRoute() {
            // 마커 삭제
            routeMarkers.forEach(function(marker) {
                marker.setMap(null);
            });
            routeMarkers = [];

            // 라인 삭제
            routeLines.forEach(function(polyline) {
                polyline.setMap(null);
            });
            routeLines = [];
        }
*/

    </script>

<div id="decription">
<p>1. 신제주1(외도) 김춘길 010-6886-5383, 차량번호: 2867</p>
<p>2. 신제주2(신제주) 김관태 010-9486-4456, 차량번호: 2899</p>
<p>3. 구제주1(용담) 이지철 010-9722-7402, 차량번호: 2847</p>
<p>4. 구제주2(삼양) 전등환 010-6395-4865, 차량번호: 2834</p>
<p>5. 항공우주박물관 오문빈 010-3146-2255, 차량번호: 2844</p>
</div>

</body>
</html>
